<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head><link rel="shortcut icon" href="https://sebkrantz.github.io/collapse/favicon.ico" type="image/x-icon">
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fast Radix-Based Ordering — radixorder • collapse</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fast Radix-Based Ordering — radixorder" />
<meta property="og:description" content="A slight modification of order(..., method = &quot;radix&quot;) that is more programmer friendly and, importantly, provides features for ordered grouping of data (similar to data.table:::forderv which has more or less the same source code). radixorderv is a programmers version directly supporting vector and list input. " />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">collapse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://sebkrantz.github.io/Rblog/">Blog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/collapse_R">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/SebKrantz/collapse">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fast Radix-Based Ordering</h1>
    
    <div class="hidden name"><code>radixorder.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>A slight modification of <code><a href='https://rdrr.io/pkg/data.table/man/setorder.html'>order(..., method = "radix")</a></code> that is more programmer friendly and, importantly, provides features for ordered grouping of data (similar to <code>data.table:::forderv</code> which has more or less the same source code). <code>radixorderv</code> is a programmers version directly supporting vector and list input. <!-- % Apart from added grouping features, the source code and standard functionality is identical to \code{\link{order(\dots, method = "radix")}. --></p>
    </div>

    <pre class="usage"><span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>...</span>, na.last <span class='op'>=</span> <span class='cn'>TRUE</span>, decreasing <span class='op'>=</span> <span class='cn'>FALSE</span>, starts <span class='op'>=</span> <span class='cn'>FALSE</span>,
           group.sizes <span class='op'>=</span> <span class='cn'>FALSE</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>

<span class='fu'>radixorderv</span><span class='op'>(</span><span class='va'>x</span>, na.last <span class='op'>=</span> <span class='cn'>TRUE</span>, decreasing <span class='op'>=</span> <span class='cn'>FALSE</span>, starts <span class='op'>=</span> <span class='cn'>FALSE</span>,
            group.sizes <span class='op'>=</span> <span class='cn'>FALSE</span>, sort <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>comma-separated atomic vectors to order.</p></td>
    </tr>
    <tr>
      <th>x</th>
      <td><p>an atomic vector or list of atomic vectors such as a data frame.</p></td>
    </tr>
    <tr>
      <th>na.last</th>
      <td><p>logical. for controlling the treatment of <code>NA</code>'s. If <code>TRUE</code>, missing values in the data are put last; if <code>FALSE</code>, they are put first; if NA, they are removed.</p></td>
    </tr>
    <tr>
      <th>decreasing</th>
      <td><p>logical. Should the sort order be increasing or decreasing? Can be a vector of length equal to the number of arguments in <code>...</code> / <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>starts</th>
      <td><p>logical. <code>TRUE</code> returns an attribute 'starts' containing the first element of each new group i.e. the row denoting the start of each new group if the data were sorted using the computed ordering vector. See Examples.
<!-- %%     ~~Describe \code{starts} here~~ --></p></td>
    </tr>
    <tr>
      <th>group.sizes</th>
      <td><p>logical. <code>TRUE</code> returns an attribute 'group.sizes' containing sizes of each group in the same order as groups are encountered if the data were sorted using the computed ordering vector. See Examples.</p></td>
    </tr>
    <tr>
      <th>sort</th>
      <td><p>logical. This argument only affects character vectors / columns passed. If <code>FALSE</code>, these are not ordered but simply grouped in the order of first appearance of unique elements. This provides a slight performance gain if only grouping but not alphabetic ordering is required. See also <code><a href='group.html'>group</a></code>.
<!-- %%     ~~Describe \code{sort} here~~ --></p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>An integer ordering vector with attributes: Unless <code>na.last = NA</code> an attribute <code>"sorted"</code> indicating whether the input data was already sorted is attached. If <code>starts = TRUE</code>, <code>"starts"</code> giving a vector of group starts in the ordered data, and if <code>group.sizes = TRUE</code>, <code>"group.sizes"</code> giving the vector of group sizes are attached. In either case an attribute <code>"maxgrpn"</code> providing the size of the largest group is also attached.</p>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>The C code was taken - with slight modifications - from <a href='https://github.com/wch/r-source/blob/79298c499218846d14500255efd622b5021c10ec/src/main/radixsort.c'>base R source code</a>, and is originally due to <em>data.table</em> authors Matt Dowle and Arun Srinivasan.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='fast-grouping-ordering.html'>Fast Grouping and Ordering</a>, <a href='index.html'>Collapse Overview</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>mpg</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 15 16 24  7 17 31 14 23 22 29 12 13 11  6  5 10 25 30  1  2  4 32 21  3  9
#&gt; [26]  8 27 26 19 28 18 20
#&gt; attr(,"sorted")
#&gt; [1] FALSE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>[</span><span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>mpg</span><span class='op'>)</span>, <span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                      mpg cyl disp  hp drat    wt  qsec vs am gear carb
#&gt; Cadillac Fleetwood  10.4   8  472 205 2.93 5.250 17.98  0  0    3    4
#&gt; Lincoln Continental 10.4   8  460 215 3.00 5.424 17.82  0  0    3    4
#&gt; Camaro Z28          13.3   8  350 245 3.73 3.840 15.41  0  0    3    4
#&gt; Duster 360          14.3   8  360 245 3.21 3.570 15.84  0  0    3    4
#&gt; Chrysler Imperial   14.7   8  440 230 3.23 5.345 17.42  0  0    3    4
#&gt; Maserati Bora       15.0   8  301 335 3.54 3.570 14.60  0  1    5    8</div><div class='input'><span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl</span>, <span class='va'>mtcars</span><span class='op'>$</span><span class='va'>vs</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 27  3  8  9 18 19 20 21 26 28 32  1  2 30  4  6 10 11  5  7 12 13 14 15 16
#&gt; [26] 17 22 23 24 25 29 31
#&gt; attr(,"sorted")
#&gt; [1] FALSE</div><div class='input'>
<span class='va'>o</span> <span class='op'>&lt;-</span> <span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl</span>, <span class='va'>mtcars</span><span class='op'>$</span><span class='va'>vs</span>, starts <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
<span class='va'>st</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span><span class='op'>(</span><span class='va'>o</span>, <span class='st'>"starts"</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>[</span><span class='va'>o</span>, <span class='op'>]</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                mpg cyl  disp hp drat    wt  qsec vs am gear carb
#&gt; Porsche 914-2 26.0   4 120.3 91 4.43 2.140 16.70  0  1    5    2
#&gt; Datsun 710    22.8   4 108.0 93 3.85 2.320 18.61  1  1    4    1
#&gt; Merc 240D     24.4   4 146.7 62 3.69 3.190 20.00  1  0    4    2
#&gt; Merc 230      22.8   4 140.8 95 3.92 3.150 22.90  1  0    4    2
#&gt; Fiat 128      32.4   4  78.7 66 4.08 2.200 19.47  1  1    4    1
#&gt; Honda Civic   30.4   4  75.7 52 4.93 1.615 18.52  1  1    4    2</div><div class='input'><span class='va'>mtcars</span><span class='op'>[</span><span class='va'>o</span><span class='op'>[</span><span class='va'>st</span><span class='op'>]</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"cyl"</span>, <span class='st'>"vs"</span><span class='op'>)</span><span class='op'>]</span>  <span class='co'># Unique groups</span>
</div><div class='output co'>#&gt;                   cyl vs
#&gt; Porsche 914-2       4  0
#&gt; Datsun 710          4  1
#&gt; Mazda RX4           6  0
#&gt; Hornet 4 Drive      6  1
#&gt; Hornet Sportabout   8  0</div><div class='input'>
<span class='co'># Note that if attr(o, "sorted") == TRUE, then all(o[st] == st)</span>
<span class='fu'>radixorder</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/rep.html'>rep</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>3</span>, each <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>, starts <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1 2 3 4 5 6 7 8 9
#&gt; attr(,"starts")
#&gt; [1] 1 4 7
#&gt; attr(,"maxgrpn")
#&gt; [1] 3
#&gt; attr(,"sorted")
#&gt; [1] TRUE</div><div class='input'>
<span class='co'># Group sizes</span>
<span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl</span>, <span class='va'>mtcars</span><span class='op'>$</span><span class='va'>vs</span>, group.sizes <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 27  3  8  9 18 19 20 21 26 28 32  1  2 30  4  6 10 11  5  7 12 13 14 15 16
#&gt; [26] 17 22 23 24 25 29 31
#&gt; attr(,"group.sizes")
#&gt; [1]  1 10  3  4 14
#&gt; attr(,"maxgrpn")
#&gt; [1] 14
#&gt; attr(,"sorted")
#&gt; [1] FALSE</div><div class='input'>
<span class='co'># Both</span>
<span class='fu'>radixorder</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>$</span><span class='va'>cyl</span>, <span class='va'>mtcars</span><span class='op'>$</span><span class='va'>vs</span>, starts <span class='op'>=</span> <span class='cn'>TRUE</span>, group.sizes <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;  [1] 27  3  8  9 18 19 20 21 26 28 32  1  2 30  4  6 10 11  5  7 12 13 14 15 16
#&gt; [26] 17 22 23 24 25 29 31
#&gt; attr(,"starts")
#&gt; [1]  1  2 12 15 19
#&gt; attr(,"group.sizes")
#&gt; [1]  1 10  3  4 14
#&gt; attr(,"maxgrpn")
#&gt; [1] 14
#&gt; attr(,"sorted")
#&gt; [1] FALSE</div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


