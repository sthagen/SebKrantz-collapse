<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head><link rel="shortcut icon" href="https://sebkrantz.github.io/collapse/favicon.ico" type="image/x-icon">
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Small (Helper) Functions  — AA2-small-helpers • collapse</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Small (Helper) Functions  — AA2-small-helpers" />
<meta property="og:description" content="Convenience functions in the collapse package that help to deal with attributes such as variable names and labels, missing values, matching and object checking etc.. Some functions are performance improved replacements for base R functions. " />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">collapse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://sebkrantz.github.io/Rblog/" target="_blank">Blog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/collapse_R" target="_blank">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/SebKrantz/collapse" target="_blank">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Small (Helper) Functions <!-- % \emph{collapse} --></h1>
    
    <div class="hidden name"><code>small-helper.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Convenience functions in the <em>collapse</em> package that help to deal with attributes such as variable names and labels, missing values, matching and object checking etc.. Some functions are performance improved replacements for base R functions. <!-- % For recoding and replacing values see \code{\link{Recode}}. % for pairwise correlations and covariances see \code{\link{pwcor}}, for summary statistics see \code{\link{qsu}}. --></p>
    </div>

    <pre class="usage"><span class='fu'>.c</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>                       <span class='co'># Non-standard concatenation i.e. .c(a, b) == c("a", "b")</span>
<span class='fu'>vlabels</span><span class='op'>(</span><span class='va'>X</span>, attrn <span class='op'>=</span> <span class='st'>"label"</span><span class='op'>)</span>   <span class='co'># Get labels of variables in X, in attr(X[[i]], attrn)</span>
<span class='fu'>vlabels</span><span class='op'>(</span><span class='va'>X</span>, attrn <span class='op'>=</span> <span class='st'>"label"</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='va'>value</span>      <span class='co'># Set labels of variables in X</span>
<span class='fu'>vclasses</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                   <span class='co'># Get classes of variables in X</span>
<span class='fu'>vtypes</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                     <span class='co'># Get data storage types of variables in X (calling typeof)</span>
<span class='fu'>namlab</span><span class='op'>(</span><span class='va'>X</span>, class <span class='op'>=</span> <span class='cn'>FALSE</span>,      <span class='co'># Return data frame of names, labels and classes</span>
          attrn <span class='op'>=</span> <span class='st'>"label"</span><span class='op'>)</span>
<span class='fu'>add_stub</span><span class='op'>(</span><span class='va'>X</span>, <span class='va'>stub</span>, pre <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span> <span class='co'># Add a stub (i.e. prefix or postfix) to column names</span>
<span class='fu'>rm_stub</span><span class='op'>(</span><span class='va'>X</span>, <span class='va'>stub</span>, pre <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>  <span class='co'># Remove stub from column names</span>
<span class='va'>x</span> <span class='op'>%!in%</span> <span class='va'>table</span>                 <span class='co'># The opposite of %in%</span>
<span class='fu'>ckmatch</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>table</span>,             <span class='co'># Check-match: throws an informative error if non-matched</span>
     e <span class='op'>=</span> <span class='st'>"Unknown columns:"</span><span class='op'>)</span>
<span class='fu'>fnlevels</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>                   <span class='co'># Faster version of nlevels(x) (for factors)</span>
<span class='fu'>fnrow</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                      <span class='co'># Faster nrow for data frames (not faster for matrices)</span>
<span class='fu'>fncol</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                      <span class='co'># Faster ncol for data frames (not faster for matrices)</span>
<span class='fu'>fdim</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                       <span class='co'># Faster dim for data frames (not faster for matrices)</span>
<span class='fu'>allNA</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>                      <span class='co'># Check for all missing cases in a vector</span>
<span class='fu'>missing_cases</span><span class='op'>(</span><span class='va'>X</span>, cols <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span> <span class='co'># Find missing cases in a matrix / data framme</span>
<span class='fu'>na_rm</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>                      <span class='co'># Remove missing values from vector and return vector</span>
<span class='fu'>na_omit</span><span class='op'>(</span><span class='va'>X</span>, cols <span class='op'>=</span> <span class='cn'>NULL</span>,       <span class='co'># Faster na.omit for matrices and data frames</span>
        na.attr <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'>na_insert</span><span class='op'>(</span><span class='va'>X</span>, prop <span class='op'>=</span> <span class='fl'>0.1</span><span class='op'>)</span>      <span class='co'># Insert missing values at random in vectors, matrices DF's</span>
<span class='fu'>cinv</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                       <span class='co'># Choleski (fast) inverse of symmetric, positive def. matrix</span>
<span class='fu'>all_identical</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>            <span class='co'># Check exact equality of multiple objects or list-elements</span>
<span class='fu'>all_obj_equal</span><span class='op'>(</span><span class='va'>...</span><span class='op'>)</span>            <span class='co'># Check near equality of multiple objects or list-elements</span>
<span class='fu'>seq_row</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                    <span class='co'># Fast integer sequences along rows of X</span>
<span class='fu'>seq_col</span><span class='op'>(</span><span class='va'>X</span><span class='op'>)</span>                    <span class='co'># Fast integer sequences along columns of X</span>
<span class='fu'>setRownames</span><span class='op'>(</span><span class='va'>object</span>,
 nm <span class='op'>=</span> <span class='kw'>if</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/is.recursive.html'>is.atomic</a></span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span><span class='op'>)</span>   <span class='co'># Set rownames of object and return object</span>
 <span class='fu'>seq_row</span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span> <span class='kw'>else</span> <span class='cn'>NULL</span><span class='op'>)</span>
<span class='fu'>setColnames</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>nm</span><span class='op'>)</span>       <span class='co'># Set colnames of object and return object</span>
<span class='fu'>setDimnames</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>dn</span>,
            which <span class='op'>=</span> <span class='cn'>NULL</span><span class='op'>)</span>     <span class='co'># Set dimension names of object and return object</span>
<span class='fu'>unattrib</span><span class='op'>(</span><span class='va'>object</span><span class='op'>)</span>              <span class='co'># Remove all attributes from object</span>
<span class='fu'>setAttrib</span><span class='op'>(</span><span class='va'>object</span>, <span class='va'>a</span><span class='op'>)</span>          <span class='co'># Replace all attributes with list of attributes 'a'</span>
<span class='fu'>copyAttrib</span><span class='op'>(</span><span class='va'>to</span>, <span class='va'>from</span><span class='op'>)</span>          <span class='co'># Copy all attributes from object 'from' to object 'to'</span>
<span class='fu'>copyMostAttrib</span><span class='op'>(</span><span class='va'>to</span>, <span class='va'>from</span><span class='op'>)</span>      <span class='co'># Copy most attributes from object 'from' to object 'to'</span>
<span class='fu'>is.categorical</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>             <span class='co'># The opposite of is.numeric</span>
<span class='fu'>is.Date</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>                    <span class='co'># Check if object is of class "Date", "POSIXlt" or "POSIXct"</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>X</th>
      <td><p>a matrix or data frame (some functions also support vectors and arrays although that is less common).</p></td>
    </tr>
    <tr>
      <th>x, table</th>
      <td><p>a atomic vector.</p></td>
    </tr>
    <tr>
      <th>object, to, from</th>
      <td><p>a suitable R object.</p></td>
    </tr>
    <tr>
      <th>a</th>
      <td><p>a suitable list of attributes.</p></td>
    </tr>
    <tr>
      <th>attrn</th>
      <td><p>character. Name of attribute to store labels or retrieve labels from.</p></td>
    </tr>
    <tr>
      <th>value</th>
      <td><p>a matching character vector of variable labels.</p></td>
    </tr>
    <tr>
      <th>class</th>
      <td><p>logical. Also show the classes of variables in X in a column?</p></td>
    </tr>
    <tr>
      <th>stub</th>
      <td><p>a single character stub, i.e. "log.", which by default will be pre-applied to all variables or column names in X.</p></td>
    </tr>
    <tr>
      <th>pre</th>
      <td><p>logical. <code>FALSE</code> will post-apply <code>stub</code>.</p></td>
    </tr>
    <tr>
      <th>cols</th>
      <td><p>only removes rows with missing values on these columns. Columns can be selected using column names, indices, a logical vector or a selector function (i.e. <code>is.numeric</code>).</p></td>
    </tr>
    <tr>
      <th>na.attr</th>
      <td><p>logical. <code>TRUE</code> adds an attribute containing the removed cases. For compatibility reasons this is exactly the same format as <code>na.omit</code> i.e. the attribute is called "na.action" and of class "omit".</p></td>
    </tr>
    <tr>
      <th>nm</th>
      <td><p>a suitable vector of row- or column-names.</p></td>
    </tr>
    <tr>
      <th>dn</th>
      <td><p>a suitable vector or list of names for dimension(s).</p></td>
    </tr>
    <tr>
      <th>which</th>
      <td><p>integer. If <code>NULL</code>, <code>dn</code> has to be a list fully specifying the dimension names of the object. Alternatively, a vector or list of names for dimensions <code>which</code> can be supplied. See Examples.</p></td>
    </tr>
    <tr>
      <th>prop</th>
      <td><p>double. Specify the proportion of observations randomly replaced with <code>NA</code>.</p></td>
    </tr>
    <tr>
      <th>e</th>
      <td><p>the error message thrown by <code>ckmatch</code> for non-matched elements. The message is followed by the comma-separated non-matched elements.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>for <code>.c</code>: Comma-separated expressions. For <code>all_identical / all_obj_equal</code>: Either multiple comma-separated objects or a single list of objects in which all elements will be checked for exact / numeric equality.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><a href='index.html'>Collapse Overview</a> <!-- %% \code{\link{pwcor}}, \code{\link{qsu}} --></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'>## Non-standard concatenation</span>
<span class='fu'>.c</span><span class='op'>(</span><span class='va'>a</span>, <span class='va'>b</span>, <span class='st'>"c d"</span>, <span class='va'>e</span> <span class='op'>==</span> <span class='va'>f</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] "a"      "b"      "c d"    "e == f"</div><div class='input'>
<span class='co'>## Variable labels</span>
<span class='fu'>namlab</span><span class='op'>(</span><span class='va'>wlddev</span>, class <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    Variable     Class                                   Label
#&gt; 1   country character                            Country Name
#&gt; 2     iso3c    factor                            Country Code
#&gt; 3      date      Date              Date Recorded (Fictitious)
#&gt; 4      year   integer                                    Year
#&gt; 5    decade   numeric                                  Decade
#&gt; 6    region    factor                                  Region
#&gt; 7    income    factor                            Income Level
#&gt; 8      OECD   logical                 Is OECD Member Country?
#&gt; 9     PCGDP   numeric      GDP per capita (constant 2010 US$)
#&gt; 10   LIFEEX   numeric Life expectancy at birth, total (years)
#&gt; 11     GINI   numeric        GINI index (World Bank estimate)
#&gt; 12      ODA   numeric    Net ODA received (constant 2015 US$)</div><div class='input'><span class='fu'>vlabels</span><span class='op'>(</span><span class='va'>wlddev</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                                   country 
#&gt;                            "Country Name" 
#&gt;                                     iso3c 
#&gt;                            "Country Code" 
#&gt;                                      date 
#&gt;              "Date Recorded (Fictitious)" 
#&gt;                                      year 
#&gt;                                    "Year" 
#&gt;                                    decade 
#&gt;                                  "Decade" 
#&gt;                                    region 
#&gt;                                  "Region" 
#&gt;                                    income 
#&gt;                            "Income Level" 
#&gt;                                      OECD 
#&gt;                 "Is OECD Member Country?" 
#&gt;                                     PCGDP 
#&gt;      "GDP per capita (constant 2010 US$)" 
#&gt;                                    LIFEEX 
#&gt; "Life expectancy at birth, total (years)" 
#&gt;                                      GINI 
#&gt;        "GINI index (World Bank estimate)" 
#&gt;                                       ODA 
#&gt;    "Net ODA received (constant 2015 US$)" </div><div class='input'><span class='fu'>vlabels</span><span class='op'>(</span><span class='va'>wlddev</span><span class='op'>)</span> <span class='op'>&lt;-</span> <span class='fu'>vlabels</span><span class='op'>(</span><span class='va'>wlddev</span><span class='op'>)</span>

<span class='co'>## Stub-renaming</span>
<span class='va'>log_mtc</span> <span class='op'>&lt;-</span> <span class='fu'>add_stub</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/Log.html'>log</a></span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>)</span>, <span class='st'>"log."</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='va'>log_mtc</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                    log.mpg  log.cyl log.disp   log.hp log.drat    log.wt
#&gt; Mazda RX4         3.044522 1.791759 5.075174 4.700480 1.360977 0.9631743
#&gt; Mazda RX4 Wag     3.044522 1.791759 5.075174 4.700480 1.360977 1.0560527
#&gt; Datsun 710        3.126761 1.386294 4.682131 4.532599 1.348073 0.8415672
#&gt; Hornet 4 Drive    3.063391 1.791759 5.552960 4.700480 1.124930 1.1678274
#&gt; Hornet Sportabout 2.928524 2.079442 5.886104 5.164786 1.147402 1.2354715
#&gt; Valiant           2.895912 1.791759 5.416100 4.653960 1.015231 1.2412686
#&gt;                   log.qsec log.vs log.am log.gear  log.carb
#&gt; Mazda RX4         2.800933   -Inf      0 1.386294 1.3862944
#&gt; Mazda RX4 Wag     2.834389   -Inf      0 1.386294 1.3862944
#&gt; Datsun 710        2.923699      0      0 1.386294 0.0000000
#&gt; Hornet 4 Drive    2.967333      0   -Inf 1.098612 0.0000000
#&gt; Hornet Sportabout 2.834389   -Inf   -Inf 1.098612 0.6931472
#&gt; Valiant           3.006672      0   -Inf 1.098612 0.0000000</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>rm_stub</span><span class='op'>(</span><span class='va'>log_mtc</span>, <span class='st'>"log."</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;                        mpg      cyl     disp       hp     drat        wt
#&gt; Mazda RX4         3.044522 1.791759 5.075174 4.700480 1.360977 0.9631743
#&gt; Mazda RX4 Wag     3.044522 1.791759 5.075174 4.700480 1.360977 1.0560527
#&gt; Datsun 710        3.126761 1.386294 4.682131 4.532599 1.348073 0.8415672
#&gt; Hornet 4 Drive    3.063391 1.791759 5.552960 4.700480 1.124930 1.1678274
#&gt; Hornet Sportabout 2.928524 2.079442 5.886104 5.164786 1.147402 1.2354715
#&gt; Valiant           2.895912 1.791759 5.416100 4.653960 1.015231 1.2412686
#&gt;                       qsec   vs   am     gear      carb
#&gt; Mazda RX4         2.800933 -Inf    0 1.386294 1.3862944
#&gt; Mazda RX4 Wag     2.834389 -Inf    0 1.386294 1.3862944
#&gt; Datsun 710        2.923699    0    0 1.386294 0.0000000
#&gt; Hornet 4 Drive    2.967333    0 -Inf 1.098612 0.0000000
#&gt; Hornet Sportabout 2.834389 -Inf -Inf 1.098612 0.6931472
#&gt; Valiant           3.006672    0 -Inf 1.098612 0.0000000</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span><span class='va'>log_mtc</span><span class='op'>)</span>

<span class='co'>## Setting dimension names of an object</span>
<span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>setRownames</span><span class='op'>(</span><span class='va'>mtcars</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt;    mpg cyl disp  hp drat    wt  qsec vs am gear carb
#&gt; 1 21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&gt; 2 21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&gt; 3 22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
#&gt; 4 21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
#&gt; 5 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
#&gt; 6 18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</div><div class='input'><span class='va'>ar</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/array.html'>array</a></span><span class='op'>(</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>9</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>3</span>,<span class='fl'>3</span>,<span class='fl'>3</span><span class='op'>)</span><span class='op'>)</span>
<span class='fu'>setRownames</span><span class='op'>(</span><span class='va'>ar</span><span class='op'>)</span>
</div><div class='output co'>#&gt; , , 1
#&gt; 
#&gt;   [,1] [,2] [,3]
#&gt; 1    1    4    7
#&gt; 2    2    5    8
#&gt; 3    3    6    9
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;   [,1] [,2] [,3]
#&gt; 1    1    4    7
#&gt; 2    2    5    8
#&gt; 3    3    6    9
#&gt; 
#&gt; , , 3
#&gt; 
#&gt;   [,1] [,2] [,3]
#&gt; 1    1    4    7
#&gt; 2    2    5    8
#&gt; 3    3    6    9
#&gt; </div><div class='input'><span class='fu'>setColnames</span><span class='op'>(</span><span class='va'>ar</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a"</span>,<span class='st'>"b"</span>,<span class='st'>"c"</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; , , 1
#&gt; 
#&gt;      a b c
#&gt; [1,] 1 4 7
#&gt; [2,] 2 5 8
#&gt; [3,] 3 6 9
#&gt; 
#&gt; , , 2
#&gt; 
#&gt;      a b c
#&gt; [1,] 1 4 7
#&gt; [2,] 2 5 8
#&gt; [3,] 3 6 9
#&gt; 
#&gt; , , 3
#&gt; 
#&gt;      a b c
#&gt; [1,] 1 4 7
#&gt; [2,] 2 5 8
#&gt; [3,] 3 6 9
#&gt; </div><div class='input'><span class='fu'>setDimnames</span><span class='op'>(</span><span class='va'>ar</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a"</span>,<span class='st'>"b"</span>,<span class='st'>"c"</span><span class='op'>)</span>, which <span class='op'>=</span> <span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; , , a
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; 
#&gt; , , b
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; 
#&gt; , , c
#&gt; 
#&gt;      [,1] [,2] [,3]
#&gt; [1,]    1    4    7
#&gt; [2,]    2    5    8
#&gt; [3,]    3    6    9
#&gt; </div><div class='input'><span class='fu'>setDimnames</span><span class='op'>(</span><span class='va'>ar</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"d"</span>,<span class='st'>"e"</span>,<span class='st'>"f"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a"</span>,<span class='st'>"b"</span>,<span class='st'>"c"</span><span class='op'>)</span><span class='op'>)</span>, which <span class='op'>=</span> <span class='fl'>2</span><span class='op'>:</span><span class='fl'>3</span><span class='op'>)</span>
</div><div class='output co'>#&gt; , , a
#&gt; 
#&gt;      d e f
#&gt; [1,] 1 4 7
#&gt; [2,] 2 5 8
#&gt; [3,] 3 6 9
#&gt; 
#&gt; , , b
#&gt; 
#&gt;      d e f
#&gt; [1,] 1 4 7
#&gt; [2,] 2 5 8
#&gt; [3,] 3 6 9
#&gt; 
#&gt; , , c
#&gt; 
#&gt;      d e f
#&gt; [1,] 1 4 7
#&gt; [2,] 2 5 8
#&gt; [3,] 3 6 9
#&gt; </div><div class='input'><span class='fu'>setDimnames</span><span class='op'>(</span><span class='va'>ar</span>, <span class='fu'><a href='https://rdrr.io/r/base/list.html'>list</a></span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"g"</span>,<span class='st'>"h"</span>,<span class='st'>"i"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"d"</span>,<span class='st'>"e"</span>,<span class='st'>"f"</span><span class='op'>)</span>, <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"a"</span>,<span class='st'>"b"</span>,<span class='st'>"c"</span><span class='op'>)</span><span class='op'>)</span><span class='op'>)</span>
</div><div class='output co'>#&gt; , , a
#&gt; 
#&gt;   d e f
#&gt; g 1 4 7
#&gt; h 2 5 8
#&gt; i 3 6 9
#&gt; 
#&gt; , , b
#&gt; 
#&gt;   d e f
#&gt; g 1 4 7
#&gt; h 2 5 8
#&gt; i 3 6 9
#&gt; 
#&gt; , , c
#&gt; 
#&gt;   d e f
#&gt; g 1 4 7
#&gt; h 2 5 8
#&gt; i 3 6 9
#&gt; </div><div class='input'>
<span class='co'>## Checking exact equality of multiple objects</span>
<span class='fu'>all_identical</span><span class='op'>(</span><span class='va'>iris</span>, <span class='va'>iris</span>, <span class='va'>iris</span>, <span class='va'>iris</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='va'>l</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/lapply.html'>replicate</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fu'><a href='fmean.html'>fmean</a></span><span class='op'>(</span><span class='fu'><a href='fselect, get_vars, add_vars.html'>num_vars</a></span><span class='op'>(</span><span class='va'>iris</span><span class='op'>)</span>, <span class='va'>iris</span><span class='op'>$</span><span class='va'>Species</span><span class='op'>)</span>, simplify <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>
<span class='fu'>all_identical</span><span class='op'>(</span><span class='va'>l</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] TRUE</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span><span class='va'>l</span><span class='op'>)</span>

<span class='co'>## Missing values</span>
<span class='va'>mtc_na</span> <span class='op'>&lt;-</span> <span class='fu'>na_insert</span><span class='op'>(</span><span class='va'>mtcars</span>, <span class='fl'>0.15</span><span class='op'>)</span>    <span class='co'># Set 15% of values missing at random</span>
<span class='fu'><a href='fNobs.html'>fNobs</a></span><span class='op'>(</span><span class='va'>mtc_na</span><span class='op'>)</span>                        <span class='co'># See observation count</span>
</div><div class='output co'>#&gt;  mpg  cyl disp   hp drat   wt qsec   vs   am gear carb 
#&gt;   28   28   28   28   28   28   28   28   28   28   28 </div><div class='input'><span class='fu'>na_omit</span><span class='op'>(</span><span class='va'>mtc_na</span><span class='op'>)</span>                      <span class='co'># 12x faster than na.omit(mtc_na)</span>
</div><div class='output co'>#&gt;             mpg cyl  disp  hp drat   wt qsec vs am gear carb
#&gt; Merc 240D  24.4   4 146.7  62 3.69 3.19 20.0  1  0    4    2
#&gt; Merc 280C  17.8   6 167.6 123 3.92 3.44 18.9  1  0    4    4
#&gt; Merc 450SE 16.4   8 275.8 180 3.07 4.07 17.4  0  0    3    3
#&gt; Merc 450SL 17.3   8 275.8 180 3.07 3.73 17.6  0  0    3    3
#&gt; Volvo 142E 21.4   4 121.0 109 4.11 2.78 18.6  1  1    4    2</div><div class='input'><span class='fu'>na_omit</span><span class='op'>(</span><span class='va'>mtc_na</span>, na.attr <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>      <span class='co'># Adds attribute with removed cases, like na.omit</span>
</div><div class='output co'>#&gt;             mpg cyl  disp  hp drat   wt qsec vs am gear carb
#&gt; Merc 240D  24.4   4 146.7  62 3.69 3.19 20.0  1  0    4    2
#&gt; Merc 280C  17.8   6 167.6 123 3.92 3.44 18.9  1  0    4    4
#&gt; Merc 450SE 16.4   8 275.8 180 3.07 4.07 17.4  0  0    3    3
#&gt; Merc 450SL 17.3   8 275.8 180 3.07 3.73 17.6  0  0    3    3
#&gt; Volvo 142E 21.4   4 121.0 109 4.11 2.78 18.6  1  1    4    2</div><div class='input'><span class='fu'>na_omit</span><span class='op'>(</span><span class='va'>mtc_na</span>, cols <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='st'>"vs"</span>,<span class='st'>"am"</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># Removes only cases missing vs or am</span>
</div><div class='output co'>#&gt;                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#&gt; Mazda RX4           21.0   6 160.0 110 3.90 2.620    NA  0  1   NA    4
#&gt; Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3   NA
#&gt; Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3   NA
#&gt; Valiant             18.1   6 225.0 105   NA 3.460 20.22  1  0    3    1
#&gt; Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
#&gt; Merc 230              NA   4 140.8  95 3.92 3.150 22.90  1  0    4    2
#&gt; Merc 280            19.2   6    NA 123 3.92 3.440    NA  1  0    4    4
#&gt; Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
#&gt; Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
#&gt; Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
#&gt; Merc 450SLC         15.2   8 275.8 180 3.07 3.780    NA  0  0    3    3
#&gt; Cadillac Fleetwood  10.4  NA 472.0 205 2.93 5.250 17.98  0  0    3    4
#&gt; Lincoln Continental 10.4  NA 460.0  NA 3.00 5.424 17.82  0  0    3    4
#&gt; Fiat 128            32.4   4  78.7  NA 4.08 2.200 19.47  1  1    4    1
#&gt; Honda Civic           NA   4  75.7  NA 4.93 1.615 18.52  1  1    4    2
#&gt; Toyota Corolla      33.9   4  71.1  65 4.22    NA 19.90  1  1    4    1
#&gt; Toyota Corona       21.5   4 120.1  97 3.70    NA 20.01  1  0    3    1
#&gt; Dodge Challenger    15.5   8 318.0 150 2.76    NA 16.87  0  0   NA    2
#&gt; AMC Javelin         15.2   8    NA 150 3.15 3.435 17.30  0  0    3    2
#&gt; Porsche 914-2       26.0  NA 120.3  91 4.43 2.140 16.70  0  1    5    2
#&gt; Lotus Europa        30.4   4    NA 113 3.77 1.513 16.90  1  1    5   NA
#&gt; Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1   NA    4
#&gt; Maserati Bora       15.0   8 301.0 335 3.54    NA 14.60  0  1   NA    8
#&gt; Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</div><div class='input'><span class='fu'>na_omit</span><span class='op'>(</span><span class='fu'><a href='A4-quick-conversion.html'>qM</a></span><span class='op'>(</span><span class='va'>mtc_na</span><span class='op'>)</span><span class='op'>)</span>                  <span class='co'># Also works for matrices</span>
</div><div class='output co'>#&gt;             mpg cyl  disp  hp drat   wt qsec vs am gear carb
#&gt; Merc 240D  24.4   4 146.7  62 3.69 3.19 20.0  1  0    4    2
#&gt; Merc 280C  17.8   6 167.6 123 3.92 3.44 18.9  1  0    4    4
#&gt; Merc 450SE 16.4   8 275.8 180 3.07 4.07 17.4  0  0    3    3
#&gt; Merc 450SL 17.3   8 275.8 180 3.07 3.73 17.6  0  0    3    3
#&gt; Volvo 142E 21.4   4 121.0 109 4.11 2.78 18.6  1  1    4    2</div><div class='input'><span class='fu'>na_omit</span><span class='op'>(</span><span class='va'>mtc_na</span><span class='op'>$</span><span class='va'>vs</span>, na.attr <span class='op'>=</span> <span class='cn'>TRUE</span><span class='op'>)</span>   <span class='co'># Also works with vectors</span>
</div><div class='output co'>#&gt;  [1] 0 1 1 0 1 1 1 1 1 0 0 0 0 0 0 1 1 1 1 0 0 0 0 1 0 0 0 1
#&gt; attr(,"na.action")
#&gt; [1]  2  7 24 26
#&gt; attr(,"class")
#&gt; [1] "omit"</div><div class='input'><span class='fu'>na_rm</span><span class='op'>(</span><span class='va'>mtc_na</span><span class='op'>$</span><span class='va'>vs</span><span class='op'>)</span>                     <span class='co'># For vectors na_rm is faster ...</span>
</div><div class='output co'>#&gt;  [1] 0 1 1 0 1 1 1 1 1 0 0 0 0 0 0 1 1 1 1 0 0 0 0 1 0 0 0 1</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/rm.html'>rm</a></span><span class='op'>(</span><span class='va'>mtc_na</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


