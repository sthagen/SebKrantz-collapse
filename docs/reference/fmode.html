<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head><link rel="shortcut icon" href="https://sebkrantz.github.io/collapse/favicon.ico" type="image/x-icon">
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Fast (Grouped, Weighted) Statistical Mode for Matrix-Like Objects — fmode • collapse</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Fast (Grouped, Weighted) Statistical Mode for Matrix-Like Objects — fmode" />
<meta property="og:description" content="fmode is a generic function and returns the (column-wise) statistical mode i.e. the most frequent value of x, (optionally) grouped by g and/or weighted by w.
The TRA argument can further be used to transform x using its (grouped, weighted) mode. Ties between multiple possible modes can be resolved by taking the minimum, maximum, (default) first or last occurring mode." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">collapse</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.8.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../reference/index.html">Documentation</a>
</li>
<li>
  <a href="../articles/index.html">Vignettes</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://sebkrantz.github.io/Rblog/">Blog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://twitter.com/collapse_R">
    <span class="fa fa-twitter"></span>
     
  </a>
</li>
<li>
  <a href="https://github.com/SebKrantz/collapse">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Fast (Grouped, Weighted) Statistical Mode for Matrix-Like Objects</h1>
    
    <div class="hidden name"><code>fmode.Rd</code></div>
    </div>

    <div class="ref-description">
    <p><code>fmode</code> is a generic function and returns the (column-wise) statistical mode i.e. the most frequent value of <code>x</code>, (optionally) grouped by <code>g</code> and/or weighted by <code>w</code>.
The <code><a href='TRA.html'>TRA</a></code> argument can further be used to transform <code>x</code> using its (grouped, weighted) mode. Ties between multiple possible modes can be resolved by taking the minimum, maximum, (default) first or last occurring mode.</p>
    </div>

    <pre class="usage"><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, g <span class='op'>=</span> <span class='cn'>NULL</span>, w <span class='op'>=</span> <span class='cn'>NULL</span>, TRA <span class='op'>=</span> <span class='cn'>NULL</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>,
      use.g.names <span class='op'>=</span> <span class='cn'>TRUE</span>, ties <span class='op'>=</span> <span class='st'>"first"</span>, nthreads <span class='op'>=</span> <span class='fl'>1L</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for matrix</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, g <span class='op'>=</span> <span class='cn'>NULL</span>, w <span class='op'>=</span> <span class='cn'>NULL</span>, TRA <span class='op'>=</span> <span class='cn'>NULL</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>,
      use.g.names <span class='op'>=</span> <span class='cn'>TRUE</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span>, ties <span class='op'>=</span> <span class='st'>"first"</span>, nthreads <span class='op'>=</span> <span class='fl'>1L</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for data.frame</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, g <span class='op'>=</span> <span class='cn'>NULL</span>, w <span class='op'>=</span> <span class='cn'>NULL</span>, TRA <span class='op'>=</span> <span class='cn'>NULL</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>,
      use.g.names <span class='op'>=</span> <span class='cn'>TRUE</span>, drop <span class='op'>=</span> <span class='cn'>TRUE</span>, ties <span class='op'>=</span> <span class='st'>"first"</span>, nthreads <span class='op'>=</span> <span class='fl'>1L</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for grouped_df</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, w <span class='op'>=</span> <span class='cn'>NULL</span>, TRA <span class='op'>=</span> <span class='cn'>NULL</span>, na.rm <span class='op'>=</span> <span class='cn'>TRUE</span>,
      use.g.names <span class='op'>=</span> <span class='cn'>FALSE</span>, keep.group_vars <span class='op'>=</span> <span class='cn'>TRUE</span>, keep.w <span class='op'>=</span> <span class='cn'>TRUE</span>,
      ties <span class='op'>=</span> <span class='st'>"first"</span>, nthreads <span class='op'>=</span> <span class='fl'>1L</span>, <span class='va'>...</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>x</th>
      <td><p>a vector, matrix, data frame or grouped data frame (class 'grouped_df').</p></td>
    </tr>
    <tr>
      <th>g</th>
      <td><p>a factor, <code><a href='GRP.html'>GRP</a></code> object, atomic vector (internally converted to factor) or a list of vectors / factors (internally converted to a <code><a href='GRP.html'>GRP</a></code> object) used to group <code>x</code>.</p></td>
    </tr>
    <tr>
      <th>w</th>
      <td><p>a numeric vector of (non-negative) weights, may contain missing values.</p></td>
    </tr>
    <tr>
      <th>TRA</th>
      <td><p>an integer or quoted operator indicating the transformation to perform:
0 - "replace_NA"     |     1 - "replace_fill"     |     2 - "replace"     |     3 - "-"     |     4 - "-+"     |     5 - "/"     |     6 - "%"     |     7 - "+"     |     8 - "*"     |     9 - "%%"     |     10 - "-%%". See <code><a href='TRA.html'>TRA</a></code>.</p></td>
    </tr>
    <tr>
      <th>na.rm</th>
      <td><p>logical. Skip missing values in <code>x</code>. Defaults to <code>TRUE</code> and implemented at very little computational cost. If <code>na.rm = FALSE</code>, <code>NA</code> is treated as any other value.</p></td>
    </tr>
    <tr>
      <th>use.g.names</th>
      <td><p>logical. Make group-names and add to the result as names (default method) or row-names (matrix and data frame methods). No row-names are generated for <em>data.table</em>'s.</p></td>
    </tr>
    <tr>
      <th>ties</th>
      <td><p>an integer or character string specifying the method to resolve ties between multiple possible modes i.e. multiple values with the maximum frequency or sum of weights:</p><table class='table'>
<tr><td><em> Int. </em></td><td></td><td><em> String </em></td><td></td><td><em> Description </em></td></tr>
<tr><td>1</td><td></td><td>"first"</td><td></td><td>take the first occurring mode.</td></tr>
<tr><td>2</td><td></td><td>"min"</td><td></td><td>take the smallest of the possible modes.</td></tr>
<tr><td>3</td><td></td><td>"max"</td><td></td><td>take the largest of the possible modes.</td></tr>
<tr><td>4</td><td></td><td>"last"</td><td></td><td>take the last occurring mode.</td></tr>
</table>
<p><em>Note:</em> <code>"min"/"max"</code> don't work with character data. <!-- % For logical data \code{TRUE} will be chosen unless \code{ties = "min"}. -->
        See also Details.</p></td>
    </tr>
    <tr>
      <th>nthreads</th>
      <td><p>integer. The number of threads to utilize. Parallelism is across groups for grouped computations and at the column-level otherwise.</p></td>
    </tr>
    <tr>
      <th>drop</th>
      <td><p><em>matrix and data.frame method:</em> Logical. <code>TRUE</code> drops dimensions and returns an atomic vector if <code>g = NULL</code> and <code>TRA = NULL</code>.</p></td>
    </tr>
    <tr>
      <th>keep.group_vars</th>
      <td><p><em>grouped_df method:</em> Logical. <code>FALSE</code> removes grouping variables after computation.</p></td>
    </tr>
    <tr>
      <th>keep.w</th>
      <td><p><em>grouped_df method:</em> Logical. Retain <code>sum</code> of weighting variable after computation (if contained in <code>grouped_df</code>).</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>arguments to be passed to or from other methods. If <code>TRA</code> is used, passing <code>set = TRUE</code> will transform data by reference and return the result invisibly.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><code>fmode</code> implements a pretty fast C-level hashing algorithm inspired by the <em>kit</em> package to find the statistical mode. <!-- % utilizing index- hashing implemented in the \code{Rcpp::sugar::IndexHash} class. --></p>
<p><!-- %If all values are distinct, the first value is returned. If there are multiple distinct values having the top frequency, the first value established as having the top frequency when passing through the data from element 1 to element n is returned. -->
If <code>na.rm = FALSE</code>, <code>NA</code> is not removed but treated as any other value (i.e. it's frequency is counted). If all values are <code>NA</code>, <code>NA</code> is always returned.</p>
<p>The weighted mode is computed by summing up the weights for all distinct values and choosing the value with the largest sum. If <code>na.rm = TRUE</code>, missing values will be removed from both <code>x</code> and <code>w</code> i.e. utilizing only <code>x[complete.cases(x,w)]</code> and <code>w[complete.cases(x,w)]</code>.</p>
<p>It is possible that multiple values have the same mode (the maximum frequency or sum of weights). Typical cases are simply when all values are either all the same or all distinct. In such cases, the default option <code>ties = "first"</code> returns the first occurring value in the data reaching the maximum frequency count or sum of weights. For example in a sample <code>x = c(1, 3, 2, 2, 4, 4, 1, 7)</code>, the first mode is 2 as <code>fmode</code> goes through the data from left to right. <code>ties = "last"</code> on the other hand gives 1. It is also possible to take the minimum or maximum mode, i.e. <code>fmode(x, ties = "min")</code> returns 1, and <code>fmode(x, ties = "max")</code> returns 4. It should be noted that options <code>ties = "min"</code> and <code>ties = "max"</code> give unintuitive results for character data (no strict alphabetic sorting, similar to using <code>&lt;</code> and <code>&gt;</code> to compare character values in R). These options are also best avoided if missing values are counted (<code>na.rm = FALSE</code>) since no proper logical comparison with missing values is possible: With numeric data it depends, since in C++ any comparison with <code>NA_real_</code> evaluates to <code>FALSE</code>, <code>NA_real_</code> is chosen as the min or max mode only if it is also the first mode, and never otherwise. For integer data, <code>NA_integer_</code> is stored as the smallest integer in C++, so it will always be chosen as the min mode and never as the max mode. For character data, <code>NA_character_</code> is stored as the string <code>"NA"</code> in C++ and thus the behavior depends on the other character content. <code>fmode</code> also implements a fast method for logical values which does not support the options <code>"first"/"last"</code> i.e. <code>TRUE</code> is returned unless <code>ties = "min"</code>.</p>
<p><!-- % This all seamlessly generalizes to grouped computations, which are performed by mapping the data to a sparse-array (except for logical values) and then going group-by group. --></p>
<p><code>fmode</code> preserves all the attributes of the objects it is applied to (apart from names or row-names which are adjusted as necessary in grouped operations). If a data frame is passed to <code>fmode</code> and <code>drop = TRUE</code> (the default), <code><a href='https://rdrr.io/r/base/unlist.html'>unlist</a></code> will be called on the result, which might not be sensible depending on the data at hand.</p>
    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The (<code>w</code> weighted) statistical mode of <code>x</code>, grouped by <code>g</code>, or (if <code><a href='TRA.html'>TRA</a></code> is used) <code>x</code> transformed by its (grouped, weighed) mode. <!-- %See also Details. --></p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='fmean.html'>fmean</a></code>, <code><a href='fmedian.html'>fmedian</a></code>, <a href='fast-statistical-functions.html'>Fast Statistical Functions</a>, <a href='index.html'>Collapse Overview</a></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>3</span>, <span class='fl'>2</span>, <span class='fl'>2</span>, <span class='fl'>4</span>, <span class='fl'>4</span>, <span class='fl'>1</span>, <span class='fl'>7</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span>, <span class='cn'>NA</span><span class='op'>)</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span>                            <span class='co'># Default is ties = "first"</span>
</div><div class='output co'>#&gt; [1] 2</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, ties <span class='op'>=</span> <span class='st'>"last"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, ties <span class='op'>=</span> <span class='st'>"min"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 1</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, ties <span class='op'>=</span> <span class='st'>"max"</span><span class='op'>)</span>
</div><div class='output co'>#&gt; [1] 4</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span>, na.rm <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>             <span class='co'># Here NA is the mode, regardless of ties option</span>
</div><div class='output co'>#&gt; [1] NA</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>x</span><span class='op'>[</span><span class='op'>-</span><span class='fu'><a href='https://rdrr.io/r/base/length.html'>length</a></span><span class='op'>(</span><span class='va'>x</span><span class='op'>)</span><span class='op'>]</span>, na.rm <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span> <span class='co'># Not anymore..</span>
</div><div class='output co'>#&gt; [1] 2</div><div class='input'>
<span class='co'>## World Development Data</span>
<span class='kw'><a href='https://rdrr.io/r/base/attach.html'>attach</a></span><span class='op'>(</span><span class='va'>wlddev</span><span class='op'>)</span>
<span class='co'>## default vector method</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>PCGDP</span><span class='op'>)</span>                      <span class='co'># Numeric mode</span>
</div><div class='output co'>#&gt; [1] 330.3036
#&gt; attr(,"label")
#&gt; [1] "GDP per capita (constant 2010 US$)"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>PCGDP</span>, <span class='va'>iso3c</span><span class='op'>)</span><span class='op'>)</span>         <span class='co'># Grouped numeric mode</span>
</div><div class='output co'>#&gt;         ABW         AFG         AGO         ALB         AND         ARE 
#&gt;  15669.6160    330.3036   3193.4039   1992.2919  41701.5444 103604.9068 </div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>PCGDP</span>, <span class='va'>iso3c</span>, <span class='va'>LIFEEX</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># Grouped and weighted numeric mode</span>
</div><div class='output co'>#&gt;        ABW        AFG        AGO        ALB        AND        ARE 
#&gt; 26630.2053   573.2876  3111.1577  5210.6883         NA 41420.4830 </div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>region</span><span class='op'>)</span>                     <span class='co'># Factor mode</span>
</div><div class='output co'>#&gt; [1] Europe &amp; Central Asia
#&gt; attr(,"label")
#&gt; [1] Region
#&gt; 7 Levels: East Asia &amp; Pacific ... Sub-Saharan Africa</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>date</span><span class='op'>)</span>                       <span class='co'># Date mode (defaults to first value since panel is balanced)</span>
</div><div class='output co'>#&gt; [1] "1961-01-01"</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>country</span><span class='op'>)</span>                    <span class='co'># Character mode (also defaults to first value)</span>
</div><div class='output co'>#&gt; [1] "Afghanistan"
#&gt; attr(,"label")
#&gt; [1] "Country Name"</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>OECD</span><span class='op'>)</span>                       <span class='co'># Logical mode</span>
</div><div class='output co'>#&gt; [1] FALSE
#&gt; attr(,"label")
#&gt; [1] "Is OECD Member Country?"</div><div class='input'>                                  <span class='co'># ..all the above can also be performed grouped and weighted</span>
<span class='co'>## matrix method</span>
<span class='va'>m</span> <span class='op'>&lt;-</span> <span class='fu'><a href='quick-conversion.html'>qM</a></span><span class='op'>(</span><span class='va'>airquality</span><span class='op'>)</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>m</span><span class='op'>)</span>
</div><div class='output co'>#&gt;   Ozone Solar.R    Wind    Temp   Month     Day 
#&gt;    23.0   259.0    11.5    81.0     5.0     1.0 </div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>m</span>, na.rm <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>         <span class='co'># NA frequency is also counted</span>
</div><div class='output co'>#&gt;   Ozone Solar.R    Wind    Temp   Month     Day 
#&gt;      NA      NA    11.5    81.0     5.0     1.0 </div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>m</span>, <span class='va'>airquality</span><span class='op'>$</span><span class='va'>Month</span><span class='op'>)</span>      <span class='co'># Groupwise</span>
</div><div class='output co'>#&gt;   Ozone Solar.R Wind Temp Month Day
#&gt; 5    11     190  9.7   66     5   1
#&gt; 6    29     250 11.5   76     6   1
#&gt; 7    97     175  7.4   81     7   1
#&gt; 8    44     255 11.5   86     8   1
#&gt; 9    13     238 10.3   71     9   1</div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>m</span>, w <span class='op'>=</span> <span class='va'>airquality</span><span class='op'>$</span><span class='va'>Day</span><span class='op'>)</span>    <span class='co'># Weighted: Later days in the month are given more weight</span>
</div><div class='output co'>#&gt;   Ozone Solar.R    Wind    Temp   Month     Day 
#&gt;    23.0   223.0    11.5    76.0     5.0    30.0 </div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>m</span><span class='op'>&gt;</span><span class='fl'>50</span>, <span class='va'>airquality</span><span class='op'>$</span><span class='va'>Month</span><span class='op'>)</span>   <span class='co'># Groupwise logical mode</span>
</div><div class='output co'>#&gt;   Ozone Solar.R  Wind Temp Month   Day
#&gt; 5 FALSE    TRUE FALSE TRUE FALSE FALSE
#&gt; 6 FALSE    TRUE FALSE TRUE FALSE FALSE
#&gt; 7  TRUE    TRUE FALSE TRUE FALSE FALSE
#&gt; 8 FALSE    TRUE FALSE TRUE FALSE FALSE
#&gt; 9 FALSE    TRUE FALSE TRUE FALSE FALSE</div><div class='input'>                                <span class='co'># etc..</span>
<span class='co'>## data.frame method</span>
<span class='fu'>fmode</span><span class='op'>(</span><span class='va'>wlddev</span><span class='op'>)</span>                      <span class='co'># Calling unlist -&gt; coerce to character vector</span>
</div><div class='output co'>#&gt;            country              iso3c               date               year 
#&gt;      "Afghanistan"                "2"            "-3287"             "1960" 
#&gt;             decade             region             income               OECD 
#&gt;             "1960"                "2"                "1"            "FALSE" 
#&gt;              PCGDP             LIFEEX               GINI                ODA 
#&gt; "330.303552908057"           "62.869"             "26.8" "70000.0002980232" 
#&gt;                POP 
#&gt;            "61786" </div><div class='input'><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>wlddev</span>, drop <span class='op'>=</span> <span class='cn'>FALSE</span><span class='op'>)</span>        <span class='co'># Gives one row</span>
</div><div class='output co'>#&gt;       country iso3c       date year decade                region      income
#&gt; 1 Afghanistan   AFG 1961-01-01 1960   1960 Europe &amp; Central Asia High income
#&gt;    OECD    PCGDP LIFEEX GINI   ODA   POP
#&gt; 1 FALSE 330.3036 62.869 26.8 70000 61786</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>wlddev</span>, <span class='va'>iso3c</span><span class='op'>)</span><span class='op'>)</span>         <span class='co'># Grouped mode</span>
</div><div class='output co'>#&gt;                  country iso3c       date year decade
#&gt; ABW                Aruba   ABW 1961-01-01 1960   1960
#&gt; AFG          Afghanistan   AFG 1961-01-01 1960   1960
#&gt; AGO               Angola   AGO 1961-01-01 1960   1960
#&gt; ALB              Albania   ALB 1961-01-01 1960   1960
#&gt; AND              Andorra   AND 1961-01-01 1960   1960
#&gt; ARE United Arab Emirates   ARE 1961-01-01 1960   1960
#&gt;                         region              income  OECD       PCGDP LIFEEX
#&gt; ABW  Latin America &amp; Caribbean         High income FALSE  15669.6160 65.662
#&gt; AFG                 South Asia          Low income FALSE    330.3036 32.446
#&gt; AGO         Sub-Saharan Africa Lower middle income FALSE   3193.4039 45.201
#&gt; ALB      Europe &amp; Central Asia Upper middle income FALSE   1992.2919 71.860
#&gt; AND      Europe &amp; Central Asia         High income FALSE  41701.5444     NA
#&gt; ARE Middle East &amp; North Africa         High income FALSE 103604.9068 51.537
#&gt;     GINI       ODA     POP
#&gt; ABW   NA  36860001   54211
#&gt; AFG   NA 116769997 8996973
#&gt; AGO 52.0   -390000 5454933
#&gt; ALB 27.0   9310000 1608800
#&gt; AND   NA        NA   13411
#&gt; ARE 32.5   4080000   92418</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/utils/head.html'>head</a></span><span class='op'>(</span><span class='fu'>fmode</span><span class='op'>(</span><span class='va'>wlddev</span>, <span class='va'>iso3c</span>, <span class='va'>LIFEEX</span><span class='op'>)</span><span class='op'>)</span> <span class='co'># Grouped and weighted mode</span>
</div><div class='output co'>#&gt;                  country iso3c       date year decade
#&gt; ABW                Aruba   ABW 2020-01-01 2019   2010
#&gt; AFG          Afghanistan   AFG 2020-01-01 2019   2010
#&gt; AGO               Angola   AGO 2020-01-01 2019   2010
#&gt; ALB              Albania   ALB 2020-01-01 2019   2010
#&gt; AND              Andorra   AND 2021-01-01 2020   2020
#&gt; ARE United Arab Emirates   ARE 2020-01-01 2019   2010
#&gt;                         region              income  OECD      PCGDP LIFEEX GINI
#&gt; ABW  Latin America &amp; Caribbean         High income FALSE 26630.2053 76.293   NA
#&gt; AFG                 South Asia          Low income FALSE   573.2876 64.833   NA
#&gt; AGO         Sub-Saharan Africa Lower middle income FALSE  3111.1577 45.201 51.3
#&gt; ALB      Europe &amp; Central Asia Upper middle income FALSE  5210.6883 71.860 33.2
#&gt; AND      Europe &amp; Central Asia         High income FALSE         NA     NA   NA
#&gt; ARE Middle East &amp; North Africa         High income FALSE 41420.4830 77.972 26.0
#&gt;            ODA      POP
#&gt; ABW  -12840000   106314
#&gt; AFG 4339979980 38041754
#&gt; AGO   49230000 31825295
#&gt; ALB   31410000  2854191
#&gt; AND         NA       NA
#&gt; ARE    6050000  9770529</div><div class='input'>
<span class='kw'><a href='https://rdrr.io/r/base/detach.html'>detach</a></span><span class='op'>(</span><span class='va'>wlddev</span><span class='op'>)</span>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


